<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>支持我们 — 捐赠</title>
    <link rel="stylesheet" href="/assets/combined-theme.css">
    <style>
      :root{--bg:#f7f9fc;--card:#fff;--muted:#6b7280;--accent:#0b69ff}
      html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
      body{display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#f2f6fb 0%, #f7f9fc 100%);padding:32px}
      .card{width:100%;max-width:920px;background:var(--card);border-radius:14px;box-shadow:0 8px 30px rgba(11,18,29,0.08);padding:28px;overflow:hidden}
      .header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
      .title{font-size:20px;font-weight:700;color:#0f1724}
      .subtitle{color:var(--muted);font-size:14px}
      .grid{display:flex;gap:18px;flex-wrap:wrap}
      .qr-card{flex:1 1 320px;background:linear-gradient(180deg,#ffffff,#fbfdff);border-radius:12px;padding:18px;text-align:center;border:1px solid rgba(15,23,36,0.04)}
      .qr-card img{max-width:320px;width:100%;height:auto;border-radius:8px;box-shadow:0 6px 18px rgba(2,6,23,0.08);cursor:pointer;transition:transform .18s ease}
      .qr-card img:hover{transform:scale(1.03)}
      .caption{margin-top:10px;font-weight:600;color:#0f1724}
      .hint{font-size:13px;color:var(--muted);margin-top:6px}
      .actions{display:flex;gap:10px;justify-content:center;margin-top:14px}
      .btn{display:inline-block;padding:8px 12px;border-radius:8px;background:var(--accent);color:#fff;text-decoration:none;font-weight:600}
      .btn.secondary{background:#eef4ff;color:var(--accent);border:1px solid rgba(11,105,255,0.08)}
      .note{font-size:12px;color:var(--muted);text-align:center;margin-top:12px}
      /* Modal */
      .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);z-index:9999}
      .modal.show{display:flex}
      .modal-content{background:#fff;padding:18px;border-radius:10px;max-width:92vw;max-height:92vh;overflow:auto}
      .modal-content img{max-width:80vw;height:auto}
      @media (max-width:600px){.grid{flex-direction:column}.qr-card img{max-width:100%}}
    </style>
  </head>
  <body>
    <main class="card" role="main">
      <div class="header">
        <div>
          <div class="title">支持我们 — 捐赠</div>
          <div class="subtitle">感谢你的支持！扫描下方任意二维码完成捐赠。</div>
        </div>
        <div>
          <a href="/" class="btn secondary">返回首页</a>
        </div>
      </div>

      <div class="grid">
        <figure class="qr-card">
          <img id="wx-qrcode" src="wx.jpg" alt="微信收款码" />
          <figcaption class="caption">微信（WeChat）</figcaption>
          <div class="hint">点击图片可查看大图 • 长按/下载保存到手机</div>
          <div class="actions">
            <a class="btn" href="wx.jpg" download>下载</a>
            <button class="btn secondary" data-copy="微信收款码">复制备注</button>
          </div>
        </figure>

        <figure class="qr-card">
          <img id="zfb-qrcode" src="zfb.jpg" alt="支付宝收款码" />
          <figcaption class="caption">支付宝（Alipay）</figcaption>
          <div class="hint">点击图片可查看大图 • 长按/下载保存到手机</div>
          <div class="actions">
            <a class="btn" href="zfb.jpg" download>下载</a>
            <button class="btn secondary" data-copy="支付宝收款码">复制备注</button>
          </div>
        </figure>
      </div>

      <div class="note">如果图片未显示，请确认 `wx.jpg` 与 `zfb.jpg` 已放在本站根目录。</div>
    </main>

    <!-- 简单模态查看器 -->
    <div id="qr-modal" class="modal" role="dialog" aria-hidden="true">
      <div class="modal-content" id="modal-content"></div>
    </div>

    <script>
      (function(){
        function openModal(imgSrc, alt){
          var modal = document.getElementById('qr-modal');
          var content = document.getElementById('modal-content');
          content.innerHTML = '<img src="'+imgSrc+'" alt="'+(alt||'二维码')+'" />';
          modal.classList.add('show');
          modal.setAttribute('aria-hidden','false');
        }
        function closeModal(){
          var modal = document.getElementById('qr-modal');
          modal.classList.remove('show');
          modal.setAttribute('aria-hidden','true');
        }
        document.getElementById('qr-modal').addEventListener('click', closeModal);
        document.querySelectorAll('.qr-card img').forEach(function(img){
          img.addEventListener('click', function(){
            openModal(img.getAttribute('src'), img.getAttribute('alt'));
          });
        });
        // 复制备注
        document.querySelectorAll('button[data-copy]').forEach(function(btn){
          btn.addEventListener('click', function(){
            var text = btn.getAttribute('data-copy') || '';
            navigator.clipboard && navigator.clipboard.writeText(text).then(function(){
              btn.textContent = '已复制';
              setTimeout(function(){ btn.textContent = '复制备注'; },1200);
            }, function(){
              alert('复制失败，请手动复制：' + text);
            });
          });
        });
        // 图片不存在时显示占位
        document.querySelectorAll('.qr-card img').forEach(function(img){
          img.addEventListener('error', function(){
            img.style.display = 'none';
            var p = document.createElement('div');
            p.style.padding = '28px 0';
            p.style.color = '#9ca3af';
            p.textContent = '收款码文件未找到 (' + img.getAttribute('src') + ')';
            img.parentNode.insertBefore(p, img);
          });
        });
      })();
    </script>
  </body>
</html>
