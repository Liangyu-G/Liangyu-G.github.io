import{_ as t,c as n,o as s,ae as d}from"./chunks/framework.Ck3L_38O.js";const u=JSON.parse('{"title":"狼人杀游戏 🐺","description":"","frontmatter":{},"headers":[],"relativePath":"狼人杀游戏.md","filePath":"狼人杀游戏.md"}'),l={name:"狼人杀游戏.md"};function e(i,a,p,o,r,c){return s(),n("div",null,[...a[0]||(a[0]=[d(`<h1 id="狼人杀游戏-🐺" tabindex="-1">狼人杀游戏 🐺 <a class="header-anchor" href="#狼人杀游戏-🐺" aria-label="Permalink to &quot;狼人杀游戏 🐺&quot;">​</a></h1><p>基于 AstrBot 框架的完整狼人杀游戏插件，支持 9 人局、AI 复盘、自动化流程控制，让你在 QQ 群聊中畅玩狼人杀！</p><blockquote><p><strong>⚠️ 重要提示</strong>：此插件需要 Bot 账号是群主，因为需要设置管理员、使用禁言和修改群昵称功能。建议将 Bot 设为群主以确保所有功能正常运行。</p></blockquote><h2 id="📊-版本历史" tabindex="-1">📊 版本历史 <a class="header-anchor" href="#📊-版本历史" aria-label="Permalink to &quot;📊 版本历史&quot;">​</a></h2><h3 id="v3-0-0-2025-12-06-🎉-重大更新" tabindex="-1">v3.0.0 (2025-12-06) 🎉 重大更新 <a class="header-anchor" href="#v3-0-0-2025-12-06-🎉-重大更新" aria-label="Permalink to &quot;v3.0.0 (2025-12-06) 🎉 重大更新&quot;">​</a></h3><ul><li>🤖 <strong>AI 玩家</strong>：人不够？AI 来凑！甚至支持全 AI「塞博斗蛐蛐」 <ul><li>管理员发送 <code>/小咪加入</code> 即可添加名为&quot;小咪&quot;的 AI 玩家</li><li>AI 自动完成所有操作：夜晚行动、白天发言、投票决策</li><li>支持人类 + AI 混合对局，或纯 AI 观赏局</li><li><code>/踢出AI 编号</code> 可移除指定 AI 玩家</li></ul></li><li>🐛 修复一些已知问题</li></ul><h3 id="v2-0-0-2025-12-02" tabindex="-1">v2.0.0 (2025-12-02) <a class="header-anchor" href="#v2-0-0-2025-12-02" aria-label="Permalink to &quot;v2.0.0 (2025-12-02)&quot;">​</a></h3><ul><li>🔨 <strong>架构重构</strong>：从单文件 main.py 重构为模块化设计，代码结构更清晰</li><li>🎴 <strong>接口预留</strong>：预留角色卡片生成接口，便于后续扩展</li><li>🐛 修复一些已知问题</li></ul><h3 id="v1-0-0-2025-01-12" tabindex="-1">v1.0.0 (2025-01-12) <a class="header-anchor" href="#v1-0-0-2025-01-12" aria-label="Permalink to &quot;v1.0.0 (2025-01-12)&quot;">​</a></h3><ul><li>✨ 完整的 9 人局游戏流程</li><li>✨ AI 复盘功能（可自定义提示词）</li><li>✨ 高度可配置（18 个配置项）</li><li>✨ 编号系统和智能禁言</li><li>✨ 遗言、PK、猎人开枪等完整机制</li><li>✨ 投票 30 秒倒计时提醒</li><li>🔧 命令结构简化（无需前缀）</li><li>🐛 修复多个已知 bug</li></ul><h2 id="✨-功能特性" tabindex="-1">✨ 功能特性 <a class="header-anchor" href="#✨-功能特性" aria-label="Permalink to &quot;✨ 功能特性&quot;">​</a></h2><ul><li>🎮 <strong>完整游戏流程</strong>：支持夜晚行动（狼人、预言家、女巫、猎人）、白天发言、投票放逐、PK 环节</li><li>🔢 <strong>编号系统</strong>：自动分配 1-9 号，群昵称改为编号，游戏结束后恢复</li><li>🤐 <strong>智能禁言</strong>：自动全员禁言，发言时临时解除，确保游戏秩序</li><li>💬 <strong>遗言机制</strong>：第一晚被狼杀、投票放逐均有遗言，被毒无遗言</li><li>🔫 <strong>猎人技能</strong>：被狼杀或投票放逐可开枪带走一人，被毒不能开枪</li><li>🤖 <strong>AI 复盘</strong>：游戏结束后自动生成专业复盘报告，分析策略、评选 MVP 和划水王</li><li>⚙️ <strong>高度可配置</strong>：支持自定义玩家数量、角色配置、超时时间、AI 提示词等</li><li>⏱️ <strong>超时机制</strong>：各阶段自动倒计时，投票阶段 30 秒提醒</li><li>📊 <strong>平票处理</strong>：自动进入 PK 环节，二次投票决定放逐</li></ul><h2 id="📋-游戏规则" tabindex="-1">📋 游戏规则 <a class="header-anchor" href="#📋-游戏规则" aria-label="Permalink to &quot;📋 游戏规则&quot;">​</a></h2><h3 id="默认配置-可自定义" tabindex="-1">默认配置（可自定义） <a class="header-anchor" href="#默认配置-可自定义" aria-label="Permalink to &quot;默认配置（可自定义）&quot;">​</a></h3><ul><li><strong>玩家人数</strong>：9 人</li><li><strong>阵营配置</strong>：3 狼人 + 3 神（预言家 + 女巫 + 猎人） + 3 平民</li></ul><h3 id="游戏流程" tabindex="-1">游戏流程 <a class="header-anchor" href="#游戏流程" aria-label="Permalink to &quot;游戏流程&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>夜晚阶段：</span></span>
<span class="line"><span>  1. 狼人办掉目标（私聊投票，多数票决定）</span></span>
<span class="line"><span>  2. 预言家验人（私聊验证，得知好人/狼人）</span></span>
<span class="line"><span>  3. 女巫行动（私聊选择救人/毒人/不操作）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>↓</span></span>
<span class="line"><span></span></span>
<span class="line"><span>遗言阶段（如果有）：</span></span>
<span class="line"><span>  - 第一晚被狼杀：有遗言</span></span>
<span class="line"><span>  - 投票放逐：有遗言</span></span>
<span class="line"><span>  - 被毒：无遗言</span></span>
<span class="line"><span></span></span>
<span class="line"><span>↓</span></span>
<span class="line"><span></span></span>
<span class="line"><span>白天阶段：</span></span>
<span class="line"><span>  1. 公布昨晚死者</span></span>
<span class="line"><span>  2. 按编号顺序依次发言（每人 2 分钟）</span></span>
<span class="line"><span>  3. 投票放逐（支持平票 PK）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>↓</span></span>
<span class="line"><span></span></span>
<span class="line"><span>猎人开枪（如果被杀且可开枪）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>↓</span></span>
<span class="line"><span></span></span>
<span class="line"><span>判断胜负或进入下一晚</span></span></code></pre></div><h3 id="角色技能" tabindex="-1">角色技能 <a class="header-anchor" href="#角色技能" aria-label="Permalink to &quot;角色技能&quot;">​</a></h3><table tabindex="0"><thead><tr><th>角色</th><th>技能</th></tr></thead><tbody><tr><td>🐺 <strong>狼人</strong></td><td>每晚集体投票办掉一名玩家，可密谋交流</td></tr><tr><td>🔮 <strong>预言家</strong></td><td>每晚验证一名玩家的身份（好人/狼人）</td></tr><tr><td>💊 <strong>女巫</strong></td><td>拥有一瓶解药（救人）和一瓶毒药（毒人），同一晚不能同时使用</td></tr><tr><td>🔫 <strong>猎人</strong></td><td>被狼杀或投票放逐时可开枪带走一人，被毒不能开枪</td></tr><tr><td>👤 <strong>平民</strong></td><td>无特殊技能，依靠推理找出狼人</td></tr></tbody></table><h3 id="胜利条件" tabindex="-1">胜利条件 <a class="header-anchor" href="#胜利条件" aria-label="Permalink to &quot;胜利条件&quot;">​</a></h3><ul><li>🐺 <strong>狼人胜利</strong>：好人数量 ≤ 狼人数量，或所有神职出局</li><li>✅ <strong>好人胜利</strong>：所有狼人被放逐出局</li></ul><h2 id="🚀-快速开始" tabindex="-1">🚀 快速开始 <a class="header-anchor" href="#🚀-快速开始" aria-label="Permalink to &quot;🚀 快速开始&quot;">​</a></h2><h3 id="前置要求" tabindex="-1">前置要求 <a class="header-anchor" href="#前置要求" aria-label="Permalink to &quot;前置要求&quot;">​</a></h3><p><strong>⚠️ 必须满足以下条件才能正常使用：</strong></p><ol><li>✅ 已安装 AstrBot v4.5.0+</li><li>✅ <strong>Bot 账号是群主</strong>（需要禁言和修改群昵称、设置管理员等权限）</li><li>✅ 玩家已添加 Bot 为好友（用于接收私聊消息）</li></ol><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h3><ol><li>将插件放入 <code>data/plugins/</code> 目录</li><li>重启 AstrBot</li><li><strong>确保 Bot 在目标群中是群主或管理员</strong></li></ol><h3 id="创建游戏" tabindex="-1">创建游戏 <a class="header-anchor" href="#创建游戏" aria-label="Permalink to &quot;创建游戏&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1. 房主在群聊发送：/创建房间</span></span>
<span class="line"><span>2. 9 名玩家依次发送：/加入房间</span></span>
<span class="line"><span>3. 房主发送：/开始游戏</span></span>
<span class="line"><span>4. 游戏自动分配角色并开始</span></span></code></pre></div><h2 id="📖-命令列表" tabindex="-1">📖 命令列表 <a class="header-anchor" href="#📖-命令列表" aria-label="Permalink to &quot;📖 命令列表&quot;">​</a></h2><h3 id="基础命令" tabindex="-1">基础命令 <a class="header-anchor" href="#基础命令" aria-label="Permalink to &quot;基础命令&quot;">​</a></h3><table tabindex="0"><thead><tr><th>命令</th><th>说明</th><th>权限</th></tr></thead><tbody><tr><td><code>/创建房间</code></td><td>创建游戏房间</td><td>所有人</td></tr><tr><td><code>/加入房间</code></td><td>加入游戏</td><td>所有人</td></tr><tr><td><code>/开始游戏</code></td><td>开始游戏</td><td>房主</td></tr><tr><td><code>/查角色</code></td><td>查看自己的角色（私聊）</td><td>玩家</td></tr><tr><td><code>/游戏状态</code></td><td>查看游戏状态</td><td>所有人</td></tr><tr><td><code>/结束游戏</code></td><td>强制结束游戏</td><td>房主</td></tr><tr><td><code>/XXX加入</code></td><td>添加 AI 玩家（如 /小咪加入）</td><td>管理员</td></tr><tr><td><code>/踢出AI 编号</code></td><td>踢出指定 AI 玩家</td><td>管理员</td></tr><tr><td><code>/狼人杀帮助</code></td><td>显示帮助信息</td><td>所有人</td></tr></tbody></table><h3 id="夜晚命令-私聊" tabindex="-1">夜晚命令（私聊） <a class="header-anchor" href="#夜晚命令-私聊" aria-label="Permalink to &quot;夜晚命令（私聊）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>命令</th><th>说明</th><th>角色</th><th>示例</th></tr></thead><tbody><tr><td><code>/办掉 编号</code></td><td>投票办掉目标</td><td>狼人</td><td><code>/办掉 3</code></td></tr><tr><td><code>/密谋 消息</code></td><td>与狼人队友交流</td><td>狼人</td><td><code>/密谋 我们刀3号</code></td></tr><tr><td><code>/验人 编号</code></td><td>验证玩家身份</td><td>预言家</td><td><code>/验人 5</code></td></tr><tr><td><code>/救人</code></td><td>使用解药救人</td><td>女巫</td><td><code>/救人</code></td></tr><tr><td><code>/毒人 编号</code></td><td>使用毒药毒人</td><td>女巫</td><td><code>/毒人 7</code></td></tr><tr><td><code>/不操作</code></td><td>女巫不使用药</td><td>女巫</td><td><code>/不操作</code></td></tr><tr><td><code>/开枪 编号</code></td><td>开枪带走一人</td><td>猎人</td><td><code>/开枪 2</code></td></tr></tbody></table><h3 id="白天命令" tabindex="-1">白天命令 <a class="header-anchor" href="#白天命令" aria-label="Permalink to &quot;白天命令&quot;">​</a></h3><table tabindex="0"><thead><tr><th>命令</th><th>说明</th><th>权限</th><th>示例</th></tr></thead><tbody><tr><td><code>/发言完毕</code></td><td>结束发言</td><td>当前发言者</td><td><code>/发言完毕</code></td></tr><tr><td><code>/遗言完毕</code></td><td>结束遗言</td><td>被杀玩家</td><td><code>/遗言完毕</code></td></tr><tr><td><code>/开始投票</code></td><td>跳过发言直接投票</td><td>房主</td><td><code>/开始投票</code></td></tr><tr><td><code>/投票 编号</code></td><td>投票放逐玩家</td><td>所有存活玩家</td><td><code>/投票 4</code></td></tr></tbody></table><h2 id="⚙️-配置说明" tabindex="-1">⚙️ 配置说明 <a class="header-anchor" href="#⚙️-配置说明" aria-label="Permalink to &quot;⚙️ 配置说明&quot;">​</a></h2><p>插件支持 19 个配置项，可在 AstrBot 后台修改：</p><h3 id="ai-配置" tabindex="-1">AI 配置 <a class="header-anchor" href="#ai-配置" aria-label="Permalink to &quot;AI 配置&quot;">​</a></h3><table tabindex="0"><thead><tr><th>配置项</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>enable_ai_review</code></td><td>bool</td><td>true</td><td>是否启用 AI 复盘</td></tr><tr><td><code>ai_review_model</code></td><td>string</td><td>&quot;&quot;</td><td>AI 模型 ID（留空使用默认）</td></tr><tr><td><code>ai_review_prompt</code></td><td>string</td><td>&quot;&quot;</td><td>自定义提示词（支持占位符）</td></tr><tr><td><code>ai_player_model</code></td><td>string</td><td>&quot;&quot;</td><td>AI 玩家使用的模型 ID</td></tr><tr><td><strong>自定义提示词占位符</strong>：</td><td></td><td></td><td></td></tr></tbody></table><ul><li><code>{winning_faction}</code> - 胜利阵营（狼人/好人）</li><li><code>{game_data}</code> - 完整游戏数据</li></ul><h3 id="游戏人数配置" tabindex="-1">游戏人数配置 <a class="header-anchor" href="#游戏人数配置" aria-label="Permalink to &quot;游戏人数配置&quot;">​</a></h3><table tabindex="0"><thead><tr><th>配置项</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>total_players</code></td><td>int</td><td>9</td><td>总玩家数</td></tr><tr><td><code>werewolf_count</code></td><td>int</td><td>3</td><td>狼人数量</td></tr><tr><td><code>seer_count</code></td><td>int</td><td>1</td><td>预言家数量</td></tr><tr><td><code>witch_count</code></td><td>int</td><td>1</td><td>女巫数量</td></tr><tr><td><code>hunter_count</code></td><td>int</td><td>1</td><td>猎人数量</td></tr><tr><td><code>villager_count</code></td><td>int</td><td>3</td><td>平民数量</td></tr><tr><td><code>ban_duration_days</code></td><td>int</td><td>30</td><td>禁言时长（天）</td></tr></tbody></table><p>⚠️ <strong>注意</strong>：角色总数必须等于总玩家数，否则使用默认配置。</p><h3 id="超时配置" tabindex="-1">超时配置 <a class="header-anchor" href="#超时配置" aria-label="Permalink to &quot;超时配置&quot;">​</a></h3><table tabindex="0"><thead><tr><th>配置项</th><th>类型</th><th>默认值</th><th>说明</th></tr></thead><tbody><tr><td><code>timeout_wolf</code></td><td>int</td><td>120</td><td>狼人办掉超时（秒）</td></tr><tr><td><code>timeout_seer</code></td><td>int</td><td>120</td><td>预言家验人超时（秒）</td></tr><tr><td><code>timeout_witch</code></td><td>int</td><td>120</td><td>女巫行动超时（秒）</td></tr><tr><td><code>timeout_hunter</code></td><td>int</td><td>120</td><td>猎人开枪超时（秒）</td></tr><tr><td><code>timeout_speaking</code></td><td>int</td><td>120</td><td>发言/遗言超时（秒）</td></tr><tr><td><code>timeout_vote</code></td><td>int</td><td>120</td><td>投票超时（秒）</td></tr><tr><td><code>timeout_dead_min</code></td><td>int</td><td>10</td><td>已死角色最小等待（秒）</td></tr><tr><td><code>timeout_dead_max</code></td><td>int</td><td>15</td><td>已死角色最大等待（秒）</td></tr></tbody></table><p>💡 <strong>提示</strong>：投票超时 &gt; 30 秒时，会在剩余 30 秒时发送倒计时提醒。</p><h2 id="🎮-游戏示例" tabindex="-1">🎮 游戏示例 <a class="header-anchor" href="#🎮-游戏示例" aria-label="Permalink to &quot;🎮 游戏示例&quot;">​</a></h2><h3 id="_1-创建并开始游戏" tabindex="-1">1. 创建并开始游戏 <a class="header-anchor" href="#_1-创建并开始游戏" aria-label="Permalink to &quot;1. 创建并开始游戏&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[群聊]</span></span>
<span class="line"><span>玩家A: /创建房间</span></span>
<span class="line"><span>Bot: ✅ 狼人杀房间创建成功！</span></span>
<span class="line"><span>     📋 游戏规则：9人局（3狼人 + 3神 + 3平民）</span></span>
<span class="line"><span>     💡 使用 /加入房间 来参与游戏</span></span>
<span class="line"><span></span></span>
<span class="line"><span>玩家B: /加入房间</span></span>
<span class="line"><span>Bot: ✅ 成功加入游戏！当前人数：2/9</span></span>
<span class="line"><span></span></span>
<span class="line"><span>... (其他7名玩家加入)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>玩家A: /开始游戏</span></span>
<span class="line"><span>Bot: 🌙 游戏开始！天黑请闭眼...</span></span>
<span class="line"><span>     角色已分配完毕！</span></span>
<span class="line"><span>     机器人正在私聊告知各位身份...</span></span></code></pre></div><h3 id="_2-狼人夜晚行动-私聊" tabindex="-1">2. 狼人夜晚行动（私聊） <a class="header-anchor" href="#_2-狼人夜晚行动-私聊" aria-label="Permalink to &quot;2. 狼人夜晚行动（私聊）&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[私聊 - 狼人1]</span></span>
<span class="line"><span>Bot: 🎭 你的角色是：🐺 狼人</span></span>
<span class="line"><span>     🤝 你的队友：2号.张三, 5号.李四</span></span>
<span class="line"><span>     💡 夜晚私聊使用命令：/办掉 编号</span></span>
<span class="line"><span></span></span>
<span class="line"><span>狼人1: /密谋 我们刀7号吧，他可能是预言家</span></span>
<span class="line"><span>Bot: ✅ 消息已发送给 2 名队友！</span></span>
<span class="line"><span></span></span>
<span class="line"><span>狼人1: /办掉 7</span></span>
<span class="line"><span>Bot: ✅ 你选择了办掉目标！当前 1/3 人已投票</span></span>
<span class="line"><span></span></span>
<span class="line"><span>... (其他狼人投票)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[群聊]</span></span>
<span class="line"><span>Bot: 🔮 狼人行动完成！</span></span>
<span class="line"><span>     预言家请私聊机器人验人：/验人 编号</span></span></code></pre></div><h3 id="_3-白天发言和投票" tabindex="-1">3. 白天发言和投票 <a class="header-anchor" href="#_3-白天发言和投票" aria-label="Permalink to &quot;3. 白天发言和投票&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[群聊]</span></span>
<span class="line"><span>Bot: ☀️ 天亮了！</span></span>
<span class="line"><span>     昨晚，玩家 7号.王五 死了！</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Bot: @1号.玩家A 现在轮到你发言</span></span>
<span class="line"><span>     ⏰ 发言时间：2分钟</span></span>
<span class="line"><span></span></span>
<span class="line"><span>1号.玩家A: 我觉得3号很可疑，昨天一直在带节奏</span></span>
<span class="line"><span>1号.玩家A: /发言完毕</span></span>
<span class="line"><span></span></span>
<span class="line"><span>... (其他玩家依次发言)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Bot: 📊 发言环节结束！现在进入投票阶段！</span></span>
<span class="line"><span>     请所有存活玩家使用命令：/投票 编号</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Bot: ⏰ 投票倒计时：还有30秒！</span></span>
<span class="line"><span>     当前投票进度：6/8</span></span>
<span class="line"><span></span></span>
<span class="line"><span>玩家A: /投票 3</span></span>
<span class="line"><span>Bot: ✅ 投票成功！当前已投票 7/8 人</span></span>
<span class="line"><span></span></span>
<span class="line"><span>... (所有人投票完成)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Bot: 📊 投票结果公布！</span></span>
<span class="line"><span>     玩家 3号.赵六 被放逐了！</span></span></code></pre></div><h3 id="_4-ai-复盘报告" tabindex="-1">4. AI 复盘报告 <a class="header-anchor" href="#_4-ai-复盘报告" aria-label="Permalink to &quot;4. AI 复盘报告&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Bot: 🎉 好人胜利！所有狼人已被放逐！</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     📜 身份公布：</span></span>
<span class="line"><span>     🐺 狼人：</span></span>
<span class="line"><span>       • 2号.张三</span></span>
<span class="line"><span>       • 3号.赵六</span></span>
<span class="line"><span>       • 5号.李四</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     🔮 预言家：</span></span>
<span class="line"><span>       • 7号.王五</span></span>
<span class="line"><span>     ...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     🤖 AI复盘</span></span>
<span class="line"><span>     ==============================</span></span>
<span class="line"><span>     本局游戏精彩纷呈，好人阵营凭借预言家的精准查验和猎人的</span></span>
<span class="line"><span>     关键一枪，成功识破狼人的伪装...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     💬 精彩狼人密谋：</span></span>
<span class="line"><span>     「2号.张三：我们刀7号吧，他可能是预言家」</span></span>
<span class="line"><span>     「5号.李四：同意，他昨天发言太准了」</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     🏆 本局MVP：7号.王五（预言家） - 三晚验出两狼，</span></span>
<span class="line"><span>                带领好人走向胜利</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     💤 本局超级划水：9号.孙七（平民） - 全程跟票，</span></span>
<span class="line"><span>                      毫无存在感</span></span>
<span class="line"><span>     ==============================</span></span></code></pre></div><h2 id="🔧-技术细节" tabindex="-1">🔧 技术细节 <a class="header-anchor" href="#🔧-技术细节" aria-label="Permalink to &quot;🔧 技术细节&quot;">​</a></h2><h3 id="编号系统" tabindex="-1">编号系统 <a class="header-anchor" href="#编号系统" aria-label="Permalink to &quot;编号系统&quot;">​</a></h3><ul><li>游戏开始时自动为玩家分配 1-9 号</li><li>群昵称临时改为&quot;编号号&quot;（如&quot;1号&quot;、&quot;2号&quot;）</li><li>游戏结束后自动恢复原昵称</li></ul><h3 id="禁言机制" tabindex="-1">禁言机制 <a class="header-anchor" href="#禁言机制" aria-label="Permalink to &quot;禁言机制&quot;">​</a></h3><ul><li>夜晚阶段：全员禁言</li><li>发言阶段：当前发言者临时设为管理员，可发言</li><li>投票阶段：解除全员禁言</li><li>游戏结束：解除所有禁言</li></ul><h3 id="超时处理" tabindex="-1">超时处理 <a class="header-anchor" href="#超时处理" aria-label="Permalink to &quot;超时处理&quot;">​</a></h3><ul><li>各阶段均有超时机制</li><li>已死角色的阶段使用随机短时间（10-15秒），避免泄露身份</li><li>投票阶段超时时自动结算已投票数据</li></ul><h3 id="ai-复盘" tabindex="-1">AI 复盘 <a class="header-anchor" href="#ai-复盘" aria-label="Permalink to &quot;AI 复盘&quot;">​</a></h3><ul><li>使用 AstrBot 配置的 LLM 模型</li><li>记录完整游戏日志（包括狼人密谋）</li><li>自动生成专业分析报告</li><li>评选 MVP 和划水王</li></ul><h2 id="⚠️-注意事项" tabindex="-1">⚠️ 注意事项 <a class="header-anchor" href="#⚠️-注意事项" aria-label="Permalink to &quot;⚠️ 注意事项&quot;">​</a></h2><ol><li><p><strong>Bot 权限要求（最重要）</strong>：</p><ul><li>⚠️ <strong>Bot 必须是群主或管理员</strong>，否则无法使用禁言和修改群昵称功能</li><li>建议将 Bot 设为群主以确保所有功能正常运行</li><li>如果 Bot 权限不足，游戏将无法正常进行</li></ul></li><li><p><strong>玩家好友关系</strong>：</p><ul><li>玩家必须添加 Bot 为好友才能接收私聊消息</li><li>如收不到私聊，可使用 <code>/查角色</code> 命令（私聊 Bot）查看</li></ul></li><li><p><strong>游戏稳定性</strong>：</p><ul><li>游戏状态存储在内存中，容器重启会丢失</li><li>建议游戏进行中不要重启 Bot</li></ul></li><li><p><strong>配置修改</strong>：</p><ul><li>修改配置后需重启插件或容器生效</li><li>角色数量必须加起来等于总玩家数（例如：3狼+1预言家+1女巫+1猎人+3平民=9人）</li><li>如果配置不正确，插件会自动使用默认配置并在日志中警告</li></ul></li><li><p><strong>平票处理</strong>：</p><ul><li>首次投票平票：进入 PK 环节</li><li>PK 投票仍平票：本轮无人出局</li></ul></li></ol><h2 id="🐛-常见问题" tabindex="-1">🐛 常见问题 <a class="header-anchor" href="#🐛-常见问题" aria-label="Permalink to &quot;🐛 常见问题&quot;">​</a></h2><h3 id="q-收不到角色私聊" tabindex="-1">Q: 收不到角色私聊？ <a class="header-anchor" href="#q-收不到角色私聊" aria-label="Permalink to &quot;Q: 收不到角色私聊？&quot;">​</a></h3><p>A: 使用 <code>/查角色</code> 命令（私聊 Bot）查看自己的角色。</p><h3 id="q-为什么有时候没有遗言" tabindex="-1">Q: 为什么有时候没有遗言？ <a class="header-anchor" href="#q-为什么有时候没有遗言" aria-label="Permalink to &quot;Q: 为什么有时候没有遗言？&quot;">​</a></h3><p>A: 遗言规则：</p><ul><li>✅ 第一晚被狼杀：有遗言</li><li>✅ 投票放逐：有遗言</li><li>❌ 被女巫毒杀：无遗言</li><li>❌ 非第一晚被狼杀：无遗言</li></ul><h3 id="q-猎人什么时候不能开枪" tabindex="-1">Q: 猎人什么时候不能开枪？ <a class="header-anchor" href="#q-猎人什么时候不能开枪" aria-label="Permalink to &quot;Q: 猎人什么时候不能开枪？&quot;">​</a></h3><p>A: 被女巫毒杀时不能开枪（死得太突然）。</p><h3 id="q-ai-复盘没有生成" tabindex="-1">Q: AI 复盘没有生成？ <a class="header-anchor" href="#q-ai-复盘没有生成" aria-label="Permalink to &quot;Q: AI 复盘没有生成？&quot;">​</a></h3><p>A: 检查配置：</p><ol><li><code>enable_ai_review</code> 是否为 true</li><li>AstrBot 是否配置了 LLM 模型</li><li>查看日志是否有报错</li></ol><h3 id="q-如何自定义游戏人数" tabindex="-1">Q: 如何自定义游戏人数？ <a class="header-anchor" href="#q-如何自定义游戏人数" aria-label="Permalink to &quot;Q: 如何自定义游戏人数？&quot;">​</a></h3><p>A: 在 AstrBot 后台修改配置，确保角色总数 = 总玩家数。</p><h3 id="q-投票没有-30-秒提醒" tabindex="-1">Q: 投票没有 30 秒提醒？ <a class="header-anchor" href="#q-投票没有-30-秒提醒" aria-label="Permalink to &quot;Q: 投票没有 30 秒提醒？&quot;">​</a></h3><p>A: 只有投票时间 &gt; 30 秒时才会提醒。如果配置 <code>timeout_vote</code> ≤ 30，不会提醒。</p>`,82)])])}const b=t(l,[["render",e]]);export{u as __pageData,b as default};
