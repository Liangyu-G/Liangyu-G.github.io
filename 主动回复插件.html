<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AstrBot 主动回复插件 | ATRI -My Dear Moments-</title>
    <meta name="description" content="A VitePress Site">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.B6tXkhGK.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Xd-LFGkX.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.D1Bg_sz3.js">
    <link rel="modulepreload" href="/assets/chunks/framework.Ck3L_38O.js">
    <link rel="modulepreload" href="/assets/主动回复插件.md.DKruxRJo.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>ATRI -My Dear Moments-</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>主页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/%E7%A6%81%E6%BC%AB%E4%B8%8B%E8%BD%BD.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>功能页</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://qm.qq.com/q/nUxFhoI0VO" aria-label="qq" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-qq"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://qm.qq.com/q/nUxFhoI0VO" aria-label="qq" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-qq"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>功能列表</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/ZeroBot.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>功能大合集</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E7%A6%81%E6%BC%AB%E4%B8%8B%E8%BD%BD.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>禁漫下载</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E7%A6%81%E6%BC%AB%E6%90%9C%E7%B4%A2.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>禁漫搜索</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E6%90%9C%E5%9B%BE%E4%B8%8E%E8%89%B2%E5%9B%BE.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>搜图与色图</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/Steam%E4%BB%B7%E6%A0%BC%E6%9F%A5%E8%AF%A2%E6%8F%92%E4%BB%B6.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Steam价格查询插件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E5%B9%BF%E6%92%AD%E5%8A%A9%E6%89%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>广播助手</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E8%AF%86%E5%88%AB%E6%8A%96%E9%9F%B3%E9%93%BE%E6%8E%A5%E5%B9%B6%E8%BD%AC%E6%8D%A2.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>识别抖音链接并转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E8%B4%B4%E8%A1%A8%E6%83%85.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>贴表情</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E6%99%BA%E8%83%BD%E5%90%88%E5%B9%B6%E8%BD%AC%E5%8F%91%E5%88%86%E6%9E%90%E6%8F%92%E4%BB%B6.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>智能合并转发分析插件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E7%8C%9CCS%E8%81%8C%E4%B8%9A%E9%80%89%E6%89%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>猜CS职业选手</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E9%AA%97%E5%AD%90%E9%85%92%E9%A6%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>骗子酒馆</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/AI%E7%94%9F%E5%9B%BE.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>AI生图</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/AI%E8%A1%A8%E6%83%85%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>AI表情包管理器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E6%88%B3%E4%B8%80%E6%88%B3.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>戳一戳</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/Steam%E6%88%AA%E5%9B%BE.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Steam截图</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E5%8A%A8%E6%80%81%E6%96%87%E5%AD%97%E5%86%92%E9%99%A9.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>动态文字冒险</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/QQ%E7%BE%A4%E6%97%A5%E5%B8%B8%E5%88%86%E6%9E%90%E6%8F%92%E4%BB%B6.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>QQ群日常分析插件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E5%BE%B7%E5%B7%9E%E6%89%91%E5%85%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>德州扑克</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E8%89%B2%E6%83%85%E6%B2%89%E6%B5%B8%E5%BC%8F%E4%BA%92%E5%8A%A8%E6%8E%A7%E5%88%B6%E6%8F%92%E4%BB%B6.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>色情沉浸式互动控制插件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E6%89%93%E8%83%B6.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>打胶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E4%BF%84%E7%BD%97%E6%96%AF%E8%BD%AE%E7%9B%98%E8%B5%8C.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>俄罗斯轮盘赌</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E6%93%8D%E6%8E%A7BOT%E7%9A%84%E4%BE%BF%E6%8D%B7%E5%91%BD%E4%BB%A4.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>操控BOT的便捷命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E5%B9%BB%E5%BD%B1%E5%9D%A6%E5%85%8B.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>幻影坦克</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E4%BA%BA%E7%94%9F%E9%87%8D%E5%BC%80%E6%A8%A1%E6%8B%9F%E5%99%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>人生重开模拟器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/RSSHub.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>RSSHub</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/URL%E6%91%98%E8%A6%81%E6%8F%90%E5%8F%96%E5%99%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>URL摘要提取器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E5%AF%BC%E7%AE%A1%E8%AE%B0%E5%BD%95.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>导管记录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/One%20Last%20Kiss%20%E9%A3%8E%E6%A0%BC%E7%94%9F%E6%88%90%E5%99%A8.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>One Last Kiss 风格生成器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/AI%E6%99%BA%E8%83%BD%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E6%8F%92%E4%BB%B6.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>AI智能定时任务插件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/Token%E4%BD%BF%E7%94%A8%E7%9B%91%E6%8E%A7%E4%B8%8E%E7%AE%A1%E7%90%86.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Token使用监控与管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/QQ%E8%BF%9D%E8%A7%84%E8%AE%B0%E5%BD%95%E6%9F%A5%E8%AF%A2.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>QQ违规记录查询</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E4%BA%94%E5%AD%90%E6%A3%8B%E6%B8%B8%E6%88%8F.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>五子棋游戏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E4%B8%BB%E5%8A%A8%E5%9B%9E%E5%A4%8D%E6%8F%92%E4%BB%B6.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>主动回复插件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/%E8%AF%84%E4%BB%B7QQ%E5%A4%B4%E5%83%8F.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>评价QQ头像</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _%E4%B8%BB%E5%8A%A8%E5%9B%9E%E5%A4%8D%E6%8F%92%E4%BB%B6" data-v-e6f2a212><div><h1 id="astrbot-主动回复插件" tabindex="-1">AstrBot 主动回复插件 <a class="header-anchor" href="#astrbot-主动回复插件" aria-label="Permalink to &quot;AstrBot 主动回复插件&quot;">​</a></h1><p>一个支持聊天附带用户信息和定时主动发送消息的 AstrBot 插件。</p><h2 id="功能特性" tabindex="-1">功能特性 <a class="header-anchor" href="#功能特性" aria-label="Permalink to &quot;功能特性&quot;">​</a></h2><h3 id="聊天附带用户信息" tabindex="-1">聊天附带用户信息 <a class="header-anchor" href="#聊天附带用户信息" aria-label="Permalink to &quot;聊天附带用户信息&quot;">​</a></h3><ul><li>自动在 AI 对话中附加用户信息（用户名、用户ID）</li><li>自动附加当前时间信息</li><li>支持自定义时间格式</li><li>支持自定义信息模板</li><li><strong>智能追加</strong>：不会覆盖现有人格设置，而是追加到系统提示末尾</li></ul><h3 id="智能主动对话系统" tabindex="-1">智能主动对话系统 <a class="header-anchor" href="#智能主动对话系统" aria-label="Permalink to &quot;智能主动对话系统&quot;">​</a></h3><ul><li><strong>基于LLM的智能生成</strong>：通过LLM生成个性化主动消息，不使用预设模板</li><li><strong>人格系统兼容</strong>：自动检测并组合AstrBot人格设置与主动对话指令</li><li><strong>多样化对话风格</strong>：支持多个主动对话提示词，随机选择不同的对话风格</li><li><strong>上下文感知</strong>：基于用户信息和对话历史生成更自然的主动消息</li><li><strong>历史记录功能增强</strong>：支持基于对话历史的智能主动消息生成 <ul><li>历史记录开关配置，可选择是否附带历史记录</li><li>可配置历史记录条数（默认10条，建议5-20条）</li><li>AI生成主动消息时会参考之前的对话历史，生成更加拟人和连贯的主动消息</li><li>使用AstrBot官方API安全地获取聊天记录</li><li>添加简洁的上下文说明，不干扰主动对话提示词的主导作用</li></ul></li><li><strong>对话历史记录</strong>：AI主动发送的消息会自动添加到对话历史中 <ul><li>解决了上下文断裂问题，用户下次发消息时AI能看到完整对话</li><li>支持多种保存方式，确保历史记录的可靠性</li></ul></li><li><strong>支持两种时间模式</strong>： <ul><li><strong>固定间隔模式</strong>：固定时间间隔，可选随机延迟</li><li><strong>随机间隔模式</strong>：每次在设定范围内随机选择等待时间（如1分钟到1小时随机）</li></ul></li><li>支持活跃时间段设置</li><li>支持多会话管理</li><li><strong>可视化配置管理</strong>：提示词和会话列表支持单独添加、编辑、删除</li></ul><h2 id="配置说明" tabindex="-1">配置说明 <a class="header-anchor" href="#配置说明" aria-label="Permalink to &quot;配置说明&quot;">​</a></h2><h3 id="用户信息附加设置" tabindex="-1">用户信息附加设置 <a class="header-anchor" href="#用户信息附加设置" aria-label="Permalink to &quot;用户信息附加设置&quot;">​</a></h3><ul><li><strong>时间格式</strong>：时间显示格式（Python datetime 格式）</li><li><strong>信息模板</strong>：用户信息的显示模板，支持占位符。会追加到现有系统提示末尾，不会覆盖人格设置 <ul><li>支持的占位符：<code>{username}</code>, <code>{user_id}</code>, <code>{time}</code>, <code>{platform}</code>, <code>{chat_type}</code></li></ul></li></ul><h3 id="智能主动对话设置" tabindex="-1">智能主动对话设置 <a class="header-anchor" href="#智能主动对话设置" aria-label="Permalink to &quot;智能主动对话设置&quot;">​</a></h3><ul><li><strong>启用功能</strong>：是否启用智能主动对话功能</li><li><strong>主动对话默认人格</strong>：当没有AstrBot人格时使用的默认人格设定</li><li><strong>主动对话提示词列表</strong>：多个提示词选项，系统会随机选择一个来指导LLM生成主动消息 <ul><li>支持可视化列表管理，每个提示词可单独添加、编辑、删除</li><li>支持 <code>{user_context}</code> 占位符来插入用户信息</li></ul></li><li><strong>历史记录功能</strong>： <ul><li><strong>是否附带历史记录</strong>：启用后，AI生成主动消息时会参考之前的对话历史</li><li><strong>附带的历史记录条数</strong>：控制获取最近多少条对话记录作为上下文（默认10条，建议5-20条）</li></ul></li><li><strong>时间模式</strong>：选择时间模式 <ul><li><code>fixed_interval</code>：固定间隔模式（传统模式）</li><li><code>random_interval</code>：随机间隔模式（新增）</li></ul></li><li><strong>固定间隔模式设置</strong>： <ul><li><strong>发送间隔</strong>：每隔多少分钟发送一次消息</li><li><strong>随机延迟</strong>：在基础间隔上增加随机延迟时间</li><li><strong>延迟范围</strong>：随机延迟的最小和最大值</li></ul></li><li><strong>随机间隔模式设置</strong>： <ul><li><strong>最小间隔</strong>：随机间隔的最小时间（分钟）</li><li><strong>最大间隔</strong>：随机间隔的最大时间（分钟）</li></ul></li><li><strong>目标会话列表</strong>：需要发送消息的会话ID列表 <ul><li>支持可视化列表管理，每个会话ID可单独添加、编辑、删除</li></ul></li><li><strong>活跃时间</strong>：只在指定时间段内发送消息</li></ul><h2 id="使用指南" tabindex="-1">使用指南 <a class="header-anchor" href="#使用指南" aria-label="Permalink to &quot;使用指南&quot;">​</a></h2><h3 id="指令说明" tabindex="-1">指令说明 <a class="header-anchor" href="#指令说明" aria-label="Permalink to &quot;指令说明&quot;">​</a></h3><p>插件提供了9个主要指令，按功能分组：</p><h4 id="核心功能指令-6个" tabindex="-1">核心功能指令（6个） <a class="header-anchor" href="#核心功能指令-6个" aria-label="Permalink to &quot;核心功能指令（6个）&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive help            # 显示帮助信息</span></span>
<span class="line"><span>/proactive status          # 查看插件状态和当前会话信息</span></span>
<span class="line"><span>/proactive config          # 显示完整的插件配置信息</span></span>
<span class="line"><span>/proactive add_session     # 将当前会话添加到定时发送列表</span></span>
<span class="line"><span>/proactive remove_session  # 将当前会话从定时发送列表移除</span></span>
<span class="line"><span>/proactive restart         # 重启定时任务（配置更改后必须使用）</span></span></code></pre></div><h4 id="测试功能指令-1个指令-6种功能" tabindex="-1">测试功能指令（1个指令，6种功能） <a class="header-anchor" href="#测试功能指令-1个指令-6种功能" aria-label="Permalink to &quot;测试功能指令（1个指令，6种功能）&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive test [type]     # 统一测试指令</span></span>
<span class="line"><span>  • test 或 test basic     # 基础测试发送</span></span>
<span class="line"><span>  • test llm               # 测试LLM请求，体验用户信息附加功能</span></span>
<span class="line"><span>  • test generation        # 测试LLM生成主动消息功能</span></span>
<span class="line"><span>  • test prompt            # 测试系统提示词构建过程（包含历史记录）</span></span>
<span class="line"><span>  • test placeholders      # 测试占位符替换功能</span></span>
<span class="line"><span>  • test history           # 测试对话历史记录功能</span></span></code></pre></div><h4 id="显示功能指令-1个指令-2种功能" tabindex="-1">显示功能指令（1个指令，2种功能） <a class="header-anchor" href="#显示功能指令-1个指令-2种功能" aria-label="Permalink to &quot;显示功能指令（1个指令，2种功能）&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive show [type]     # 统一显示指令</span></span>
<span class="line"><span>  • show prompt            # 显示当前配置下会输入给LLM的组合话术</span></span>
<span class="line"><span>  • show users             # 显示记录的用户信息</span></span></code></pre></div><h4 id="管理功能指令-1个指令-8种操作" tabindex="-1">管理功能指令（1个指令，8种操作） <a class="header-anchor" href="#管理功能指令-1个指令-8种操作" aria-label="Permalink to &quot;管理功能指令（1个指令，8种操作）&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive manage [action] # 统一管理指令</span></span>
<span class="line"><span>  基础管理操作：</span></span>
<span class="line"><span>  • manage clear           # 清除记录的用户信息和发送时间</span></span>
<span class="line"><span>  • manage task_status     # 检查定时任务状态</span></span>
<span class="line"><span>  • manage force_stop      # 强制停止所有定时任务</span></span>
<span class="line"><span>  • manage force_start     # 强制启动定时任务</span></span>
<span class="line"><span>  • manage save_config     # 强制保存配置文件</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  故障排查操作：</span></span>
<span class="line"><span>  • manage debug_info      # 调试用户信息（查看AI收到的信息）</span></span>
<span class="line"><span>  • manage debug_send      # 调试发送功能（检查LLM生成过程）</span></span>
<span class="line"><span>  • manage debug_times     # 调试时间记录（查看发送时间记录）</span></span></code></pre></div><h3 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h3><ol><li><p><strong>配置用户信息模板</strong>：</p><ul><li>用户信息功能始终启用</li><li>在管理面板中自定义信息模板</li><li>通过模板控制显示哪些信息（用户名、ID、时间等）</li></ul></li><li><p><strong>设置智能主动对话</strong>：</p><ul><li>在管理面板中启用&quot;智能主动对话功能&quot;</li><li>配置主动对话默认人格（当无AstrBot人格时使用）</li><li>配置主动对话提示词列表（可添加多个不同风格的提示词）</li><li>选择时间模式： <ul><li><strong>固定间隔模式</strong>：设置固定间隔时间，可选随机延迟</li><li><strong>随机间隔模式</strong>：设置最小和最大间隔时间，每次随机选择</li></ul></li><li>设置活跃时间段（如 9:00-22:00）</li><li>使用 <code>/proactive status</code> 查看当前会话状态</li><li>使用 <code>/proactive add_session</code> 添加当前会话到发送列表</li></ul></li><li><p><strong>测试功能</strong>：</p><ul><li>使用 <code>/proactive manage debug_info</code> 查看AI收到的用户信息</li><li>使用 <code>/proactive test llm</code> 实际测试用户信息附加功能</li><li>使用 <code>/proactive test generation</code> 测试LLM生成主动消息</li><li>使用 <code>/proactive test prompt</code> 查看系统提示词构建过程（包含历史记录）</li><li>使用 <code>/proactive test</code> 测试主动消息发送</li><li>使用 <code>/proactive status</code> 查看插件状态</li></ul></li></ol><h2 id="配置示例" tabindex="-1">配置示例 <a class="header-anchor" href="#配置示例" aria-label="Permalink to &quot;配置示例&quot;">​</a></h2><h3 id="用户信息模板示例" tabindex="-1">用户信息模板示例 <a class="header-anchor" href="#用户信息模板示例" aria-label="Permalink to &quot;用户信息模板示例&quot;">​</a></h3><p><strong>默认模板</strong>（推荐）：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[对话信息] 用户：{username}，时间：{time}</span></span></code></pre></div><p><strong>详细信息模板</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[对话信息] 用户：{username}（ID：{user_id}），时间：{time}，平台：{platform}（{chat_type}）</span></span></code></pre></div><p><strong>最简模板</strong>（只显示用户名）：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>用户：{username}</span></span></code></pre></div><p><strong>重要提示</strong>：</p><ul><li>用户信息会追加到现有系统提示的末尾，不会覆盖您设置的人格</li><li>建议保持模板简洁，避免与人格设置产生冲突</li><li>不想显示某项信息？直接从模板中删除对应的占位符即可！</li></ul><h3 id="主动对话提示词示例" tabindex="-1">主动对话提示词示例 <a class="header-anchor" href="#主动对话提示词示例" aria-label="Permalink to &quot;主动对话提示词示例&quot;">​</a></h3><p><strong>基础提示词列表</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>主动问候用户，询问近况</span></span>
<span class="line"><span>分享有趣话题，发起轻松对话</span></span>
<span class="line"><span>关心用户情况，温暖问候</span></span>
<span class="line"><span>友好交流，分享今日想法</span></span>
<span class="line"><span>轻松聊天，询问用户心情</span></span></code></pre></div><p><strong>详细提示词示例</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>现在你要主动向用户发起对话，就像一个朋友在问候一样。请生成一条简短（1-2句话）、自然、有趣的主动问候消息</span></span>
<span class="line"><span>请主动和用户聊天，询问他们的近况或分享一些有趣的话题，保持轻松友好的语调</span></span>
<span class="line"><span>作为朋友，请主动关心一下用户最近的情况，发起一个温暖的对话</span></span>
<span class="line"><span>请以轻松友好的方式主动和用户交流，可以分享一些有趣的内容或询问用户的想法</span></span></code></pre></div><p><strong>使用占位符的提示词示例</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>现在是 {current_time}，用户 {username} 上次发消息是在 {user_last_message_time}，请主动问候用户</span></span>
<span class="line"><span>{username} 在 {platform} 上已经有一段时间没有活跃了，上次发消息是 {user_last_message_time_ago}，请友好地询问近况</span></span>
<span class="line"><span>用户 {username} 在 {chat_type} 中，{user_last_message_time_ago} 发过消息，请生成一条温暖的问候消息</span></span>
<span class="line"><span>根据以下用户信息主动发起对话：{user_context}</span></span>
<span class="line"><span>用户 {username} {user_last_message_time_ago} 活跃过，现在是 {current_time}，请主动关心一下</span></span></code></pre></div><p><strong>主动对话提示词支持的占位符</strong>：</p><ul><li><code>{user_context}</code> - 完整的用户上下文信息（包含用户名、平台、时间等）</li><li><code>{user_last_message_time}</code> - 用户上次主动发送消息的时间</li><li><code>{user_last_message_time_ago}</code> - 用户上次主动发送消息的相对时间（如&quot;5分钟前&quot;、&quot;1小时前&quot;）</li><li><code>{username}</code> - 用户昵称</li><li><code>{platform}</code> - 平台名称（如：aiocqhttp、telegram等）</li><li><code>{chat_type}</code> - 聊天类型（群聊/私聊）</li><li><code>{ai_last_sent_time}</code> - AI上次发送消息的时间</li><li><code>{current_time}</code> - 当前时间</li></ul><p><strong>用户信息模板支持的占位符</strong>：</p><ul><li><code>{username}</code> - 用户名</li><li><code>{user_id}</code> - 用户ID</li><li><code>{time}</code> - 当前时间</li><li><code>{platform}</code> - 平台名</li><li><code>{chat_type}</code> - 聊天类型（群聊/私聊）</li></ul><h3 id="时间模式配置示例" tabindex="-1">时间模式配置示例 <a class="header-anchor" href="#时间模式配置示例" aria-label="Permalink to &quot;时间模式配置示例&quot;">​</a></h3><p><strong>固定间隔模式</strong>：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timing_mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fixed_interval&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;interval_minutes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;random_delay_enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;min_random_minutes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;max_random_minutes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>每600分钟（10小时）发送一次，额外随机延迟0-30分钟</li><li>实际间隔：600-630分钟（10-10.5小时）</li></ul><p><strong>随机间隔模式</strong>：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timing_mode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;random_interval&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;random_min_minutes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;random_max_minutes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1200</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>每次在600-1200分钟（10-20小时）之间随机选择等待时间</li><li>更自然的发送节奏，模拟真实用户行为</li></ul><h2 id="测试指南" tabindex="-1">测试指南 <a class="header-anchor" href="#测试指南" aria-label="Permalink to &quot;测试指南&quot;">​</a></h2><h3 id="如何测试用户信息附加功能" tabindex="-1">如何测试用户信息附加功能 <a class="header-anchor" href="#如何测试用户信息附加功能" aria-label="Permalink to &quot;如何测试用户信息附加功能&quot;">​</a></h3><ol><li><p><strong>查看调试信息</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive manage debug_info</span></span></code></pre></div><p>这个指令会显示：</p><ul><li>当前用户的原始信息（昵称、ID等）</li><li>插件配置状态</li><li>AI将收到的完整用户信息</li></ul></li><li><p><strong>实际测试LLM请求</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive test llm</span></span></code></pre></div><p>这个指令会：</p><ul><li>发送一个测试消息给AI</li><li>自动附加用户信息</li><li>让您直接体验功能效果</li></ul></li><li><p><strong>查看日志</strong>： 在AstrBot日志中查看详细的用户信息添加过程</p></li></ol><h3 id="如何测试智能主动对话功能" tabindex="-1">如何测试智能主动对话功能 <a class="header-anchor" href="#如何测试智能主动对话功能" aria-label="Permalink to &quot;如何测试智能主动对话功能&quot;">​</a></h3><ol><li><p><strong>查看当前会话状态</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive status</span></span></code></pre></div><p>会显示当前会话是否在发送列表中</p></li><li><p><strong>添加当前会话</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive add_session</span></span></code></pre></div></li><li><p><strong>测试LLM生成</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive test generation</span></span></code></pre></div></li><li><p><strong>预览完整提示词和历史记录</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive show prompt</span></span></code></pre></div><p>这个指令会显示：</p><ul><li>完整的系统提示词构建过程</li><li>历史记录获取状态和预览</li><li>人格系统集成情况</li><li>与实际生成使用相同的逻辑</li></ul></li><li><p><strong>测试系统提示词构建</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive test prompt</span></span></code></pre></div><p>包含历史记录处理的完整测试</p></li><li><p><strong>测试立即发送</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive test</span></span></code></pre></div></li><li><p><strong>调试发送过程</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive manage debug_send</span></span></code></pre></div></li><li><p><strong>查看状态</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/proactive status</span></span></code></pre></div><p>现在会显示历史记录功能的启用状态和配置信息</p></li></ol><h2 id="与-astrbot-系统的兼容性" tabindex="-1">与 AstrBot 系统的兼容性 <a class="header-anchor" href="#与-astrbot-系统的兼容性" aria-label="Permalink to &quot;与 AstrBot 系统的兼容性&quot;">​</a></h2><h3 id="人格系统深度集成" tabindex="-1">人格系统深度集成 <a class="header-anchor" href="#人格系统深度集成" aria-label="Permalink to &quot;人格系统深度集成&quot;">​</a></h3><ul><li><strong>智能人格检测</strong>：自动检测当前会话使用的AstrBot人格设置</li><li><strong>人格组合机制</strong>：将AstrBot人格提示词与主动对话指令智能组合</li><li><strong>默认人格支持</strong>：当无AstrBot人格时，使用配置的主动对话默认人格</li><li><strong>用户信息追加</strong>：用户信息追加到系统提示末尾，保持现有人格完整性</li><li><strong>支持所有人格</strong>：无论使用默认人格还是自定义人格，都能正常工作</li></ul><h3 id="对话管理兼容" tabindex="-1">对话管理兼容 <a class="header-anchor" href="#对话管理兼容" aria-label="Permalink to &quot;对话管理兼容&quot;">​</a></h3><ul><li><strong>保持对话连续性</strong>：不影响 AstrBot 的对话管理功能</li><li><strong>支持多会话</strong>：每个会话的用户信息独立处理</li><li><strong>历史记录完整</strong>：不影响对话历史的存储和检索</li></ul><h2 id="技术特性" tabindex="-1">技术特性 <a class="header-anchor" href="#技术特性" aria-label="Permalink to &quot;技术特性&quot;">​</a></h2><ul><li>完全符合 AstrBot 插件开发规范</li><li>使用官方 API，无任何非标准功能</li><li>支持异步处理和错误恢复</li><li>完整的日志记录和调试功能</li><li>优雅的资源清理</li><li><strong>人格系统深度集成</strong>：自动检测并组合AstrBot人格与主动对话指令</li><li><strong>智能LLM调用</strong>：使用底层LLM API生成个性化主动消息</li><li><strong>多格式配置解析</strong>：支持列表、JSON、传统换行格式的自动识别</li><li><strong>可视化配置管理</strong>：支持现代化的列表配置界面</li></ul><h3 id="q-为什么没有收到主动消息" tabindex="-1">Q: 为什么没有收到主动消息？ <a class="header-anchor" href="#q-为什么没有收到主动消息" aria-label="Permalink to &quot;Q: 为什么没有收到主动消息？&quot;">​</a></h3><p>A: 请检查：</p><ol><li>是否启用了主动发送功能</li><li>当前时间是否在活跃时间段内</li><li>是否已添加当前会话到发送列表</li><li>LLM服务是否正常工作</li><li>使用 <code>/proactive status</code> 查看定时任务状态</li></ol><h3 id="q-历史记录功能会消耗很多token吗" tabindex="-1">Q: 历史记录功能会消耗很多Token吗？ <a class="header-anchor" href="#q-历史记录功能会消耗很多token吗" aria-label="Permalink to &quot;Q: 历史记录功能会消耗很多Token吗？&quot;">​</a></h3><p>A: 历史记录功能的Token消耗是可控的：</p><ol><li><strong>默认设置</strong>：默认获取10条历史记录，通常消耗200-500个Token</li><li><strong>可配置数量</strong>：可以根据需要调整历史记录条数（1-50条）</li><li><strong>智能筛选</strong>：只获取最近的对话记录，避免无关内容</li><li><strong>开关控制</strong>：可以完全关闭历史记录功能，不消耗额外Token</li></ol><h3 id="q-如何优化主动消息的质量" tabindex="-1">Q: 如何优化主动消息的质量？ <a class="header-anchor" href="#q-如何优化主动消息的质量" aria-label="Permalink to &quot;Q: 如何优化主动消息的质量？&quot;">​</a></h3><p>A: 可以通过以下方式优化：</p><ol><li><strong>完善提示词</strong>：在主动对话提示词列表中添加更具体、个性化的提示词</li><li><strong>启用历史记录</strong>：让AI参考对话历史，生成更连贯的消息</li><li><strong>调整人格设置</strong>：配置合适的主动对话默认人格</li><li><strong>使用占位符</strong>：在提示词中使用 <code>{username}</code>, <code>{user_last_message_time_ago}</code> 等占位符</li><li><strong>测试和调试</strong>：使用 <code>/proactive test generation</code> 和 <code>/proactive show prompt</code> 测试效果</li></ol><h3 id="q-如何调试插件问题" tabindex="-1">Q: 如何调试插件问题？ <a class="header-anchor" href="#q-如何调试插件问题" aria-label="Permalink to &quot;Q: 如何调试插件问题？&quot;">​</a></h3><p>A: 使用以下调试指令：</p><ul><li><code>/proactive status</code> - 查看整体状态</li><li><code>/proactive config</code> - 显示完整配置信息</li><li><code>/proactive manage debug_info</code> - 查看用户信息处理</li><li><code>/proactive manage debug_send</code> - 调试LLM发送功能</li><li><code>/proactive manage debug_times</code> - 查看时间记录</li><li><code>/proactive test generation</code> - 测试LLM生成功能</li><li><code>/proactive test placeholders</code> - 测试占位符替换功能</li><li><code>/proactive manage task_status</code> - 检查定时任务状态</li></ul></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/%E4%BA%94%E5%AD%90%E6%A3%8B%E6%B8%B8%E6%88%8F.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>五子棋游戏</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/%E8%AF%84%E4%BB%B7QQ%E5%A4%B4%E5%83%8F.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>评价QQ头像</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"ai智能定时任务插件.md\":\"yuVQkMQ0\",\"ai生图.md\":\"jzDJ1sT6\",\"ai表情包管理器.md\":\"DAdY3Ec-\",\"index.md\":\"DH3DA3o6\",\"one last kiss 风格生成器.md\":\"DwUkAbpj\",\"qq群日常分析插件.md\":\"Blz8NkKO\",\"qq违规记录查询.md\":\"BNSMGmkv\",\"rsshub.md\":\"BbpenaMi\",\"steam价格查询插件.md\":\"Sz9tXpcc\",\"steam截图.md\":\"C7nP538c\",\"token使用监控与管理.md\":\"C5ra75cp\",\"url摘要提取器.md\":\"DKWK_Ziv\",\"zerobot.md\":\"PxsSA4kl\",\"主动回复插件.md\":\"DKruxRJo\",\"五子棋游戏.md\":\"BEX_tzLe\",\"人生重开模拟器.md\":\"vPxaSrZv\",\"俄罗斯轮盘赌.md\":\"C1pW27Kx\",\"动态文字冒险.md\":\"B8gbk_Ms\",\"导管记录.md\":\"D1LWpS-M\",\"幻影坦克.md\":\"CXrUNWFu\",\"广播助手.md\":\"DHDd-R4R\",\"德州扑克.md\":\"DGIqEii3\",\"戳一戳.md\":\"CBfFq3mr\",\"打胶.md\":\"B7mjuZ83\",\"搜图与色图.md\":\"77K_7rdN\",\"操控bot的便捷命令.md\":\"7uzcvBcy\",\"智能合并转发分析插件.md\":\"C30ZtniV\",\"猜cs职业选手.md\":\"D2vUyKZZ\",\"禁漫下载.md\":\"meEk5Fus\",\"禁漫搜索.md\":\"COY7s9W0\",\"色情沉浸式互动控制插件.md\":\"AIDA4sl4\",\"评价qq头像.md\":\"C86ZDANO\",\"识别抖音链接并转换.md\":\"L46M-Nw8\",\"贴表情.md\":\"BXuCOxam\",\"骗子酒馆.md\":\"CBtp4o8q\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ATRI -My Dear Moments-\",\"description\":\"A VitePress Site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"主页\",\"link\":\"/\"},{\"text\":\"功能页\",\"link\":\"/禁漫下载\"}],\"sidebar\":[{\"text\":\"功能列表\",\"items\":[{\"text\":\"功能大合集\",\"link\":\"/ZeroBot\"},{\"text\":\"禁漫下载\",\"link\":\"/禁漫下载\"},{\"text\":\"禁漫搜索\",\"link\":\"/禁漫搜索\"},{\"text\":\"搜图与色图\",\"link\":\"/搜图与色图\"},{\"text\":\"Steam价格查询插件\",\"link\":\"/Steam价格查询插件\"},{\"text\":\"广播助手\",\"link\":\"/广播助手\"},{\"text\":\"识别抖音链接并转换\",\"link\":\"/识别抖音链接并转换\"},{\"text\":\"贴表情\",\"link\":\"/贴表情\"},{\"text\":\"智能合并转发分析插件\",\"link\":\"/智能合并转发分析插件\"},{\"text\":\"猜CS职业选手\",\"link\":\"/猜CS职业选手\"},{\"text\":\"骗子酒馆\",\"link\":\"/骗子酒馆\"},{\"text\":\"AI生图\",\"link\":\"/AI生图\"},{\"text\":\"AI表情包管理器\",\"link\":\"/AI表情包管理器\"},{\"text\":\"戳一戳\",\"link\":\"/戳一戳\"},{\"text\":\"Steam截图\",\"link\":\"/Steam截图\"},{\"text\":\"动态文字冒险\",\"link\":\"/动态文字冒险\"},{\"text\":\"QQ群日常分析插件\",\"link\":\"/QQ群日常分析插件\"},{\"text\":\"德州扑克\",\"link\":\"/德州扑克\"},{\"text\":\"色情沉浸式互动控制插件\",\"link\":\"/色情沉浸式互动控制插件\"},{\"text\":\"打胶\",\"link\":\"/打胶\"},{\"text\":\"俄罗斯轮盘赌\",\"link\":\"/俄罗斯轮盘赌\"},{\"text\":\"操控BOT的便捷命令\",\"link\":\"/操控BOT的便捷命令\"},{\"text\":\"幻影坦克\",\"link\":\"/幻影坦克\"},{\"text\":\"人生重开模拟器\",\"link\":\"/人生重开模拟器\"},{\"text\":\"RSSHub\",\"link\":\"/RSSHub\"},{\"text\":\"URL摘要提取器\",\"link\":\"/URL摘要提取器\"},{\"text\":\"导管记录\",\"link\":\"/导管记录\"},{\"text\":\"One Last Kiss 风格生成器\",\"link\":\"/One Last Kiss 风格生成器\"},{\"text\":\"AI智能定时任务插件\",\"link\":\"/AI智能定时任务插件\"},{\"text\":\"Token使用监控与管理\",\"link\":\"/Token使用监控与管理\"},{\"text\":\"QQ违规记录查询\",\"link\":\"/QQ违规记录查询\"},{\"text\":\"五子棋游戏\",\"link\":\"/五子棋游戏\"},{\"text\":\"主动回复插件\",\"link\":\"/主动回复插件\"},{\"text\":\"评价QQ头像\",\"link\":\"/评价QQ头像\"}]}],\"socialLinks\":[{\"icon\":\"qq\",\"link\":\"https://qm.qq.com/q/nUxFhoI0VO\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>